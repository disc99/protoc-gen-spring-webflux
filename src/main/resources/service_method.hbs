public Mono<ServerResponse> {{methodName}}(ServerRequest serverRequest) {
    return serverRequest.bodyToMono(String.class)
            .flatMap(json -> {
                try {
                    {{requestProto}}.Builder builder = {{requestProto}}.newBuilder();
                    JsonFormat.parser().merge(json, builder);
                    {{resultProto}} res = stub.{{methodName}}(builder.build());
                    return ServerResponse.ok()
                            .contentType(MediaType.APPLICATION_JSON)
                            .syncBody(JsonFormat.printer().print(res));
                } catch (InvalidProtocolBufferException e) {
                    throw Exceptions.propagate(e);
                }
            });
}
